---
layout: page
title: CS472 - CHAT GPT - Tutorial
permalink: /teaching/CS472/Timetable/GPT/
---
<div class="main-component">
<form action="/teaching/CS472/">
    <input type="submit" style="background-color:cornflowerblue;color:white;width:185px;
height:40px;" value="Course Overview" />
</form>

<form action="/teaching/CS472/Timetable/">
    <input type="submit" style="background-color:firebrick;color:white;width:185px;
height:40px;" value="Timetable" />
</form>
<form action="/teaching/CS472/Exam/">
    <input type="submit" style="background-color:cornflowerblue;color:white;width:185px;
height:40px;" value="Exam" />
</form>
<form action="/teaching/CS472/project/">
    <input type="submit" style="background-color:cornflowerblue;color:white;width:185px;
height:40px;" value="Project" />
</form>
</div>
<br/>

Labs
=======
<div class="main-component">
<form action="/teaching/CS472/Timetable/Git_and_GitHub/">
    <input type="submit" style="background-color:#008CBA;float:left; color:white;width:130px;
height:30px;" value="Git & GitHub" />
</form>
<form action="/teaching/CS472/Timetable/dynamic_analysis/">
    <input type="submit" style="background-color:#008CBA;float:left;color:white;width:130px;
height:30px;" value="Testing" />
</form>
<form action="/teaching/CS472/Timetable/CI/">
    <input type="submit" style="background-color:#008CBA;float:left;color:white;width:130px;
height:30px;" value="CI" />
</form>
<form action="/teaching/CS472/Timetable/GPT/">
    <input type="submit" style="background-color:firebrick;float:left;color:white;width:130px;
height:30px;" value="ChatGPT" />
</form>
</div>

<br/>
<br/>

### **This individual assignment is due Feb 18th, 2024**

In this lab, you will learn how to leverage ChatGPT to address the different software development tasks. You will also 
learn various ways of sharing your conversation to support collaborative software engineering.

Overview
=======
ChatGPT is a language model developed by OpenAI. It is part of the GPT (Generative Pre-trained 
Transformer) family of models, specifically GPT-3.5-turbo. GPT-3.5-turbo is a highly advanced 
language model designed to understand and generate human-like text based on its input.


## How is ChatGPT being used in Software Engineering?
ChatGPT is being used in various ways in the field of software engineering. Its natural language 
understanding and generation capabilities make it a valuable tool for developers, both for 
individual tasks and collaborative projects. ChatGPT has be used to address different tasks in the six phases of SDLC.
Details of the definition of the tasks and how LLMs have been used to address the tasks
can be found in **Section 6** of the paper, Hou at al. [LLMs for SE: A SLR](https://arxiv.org/pdf/2308.10620.pdf)

1. Requirements engineering tasks e.g.,
  * Anaphoric ambiguity treatment
  * Requirements classification
2. Software design tasks, e.g.,
  * GUI retrieval
  * Rapid prototyping
3. Software development and implementation tasks, e.g.,
  * Code generation
  * Code search
  * Code documentation
  * Code understanding
  * Program synthesis
4. Software quality assurance tasks, e.g.,
  * Test generation
  * Failure-inducing test Identification
5. Software maintenance tasks, e.g.,
   * Code review
   * Duplicate bug report detection
6. Software management tasks, e.g.,
  * Effort estimation

In the next three sections, we provide **concrete examples on how developers are using ChatGPT**. We demonstrate two uses how developers incorporate code from ChatGPT:

 - **Use case 1:** Developers incorporate the entire code snippet suggested by ChatGPT into the pull request. This is shown in **Example 1** and **Example 2**.
 - **Use case 2:** Developers incorporate the **portion** the code snippet suggested by ChatGPT into the pull request. This is shown in **Example 3**.
 - **Use case 3:** Developers does not adapt the code suggested by ChatGPT but uses the knowledge gained to address two other software engineering tasks. Presented in **Example 4**.

## Use case 1 - Example 1: Duplicate code detection and resolution
In this example, a developer uses ChatGPT in **Software maintenance** to address the task of **code duplication** in the code. 
Here is the link to both the PR and ChatGPT conversation.

- PR: [https://github.com/nbd-wtf/nostr-tools/pull/241](https://github.com/nbd-wtf/nostr-tools/pull/241)
- ChatGPT Link: [https://chat.openai.com/share/f09f38e5-f541-4f98-9483-e183f5650398](https://chat.openai.com/share/f09f38e5-f541-4f98-9483-e183f5650398)

`Nostr-tools` is a very active and large repository with over 100 contributors. You can observe 
that the code generated by ChatGPT is adopted by the developer.

**Developer prompt** 
```angular2html
I have some duplication in my TypeScript code. I resolve it, I want to create a discriminated union based
on the keys and values of the interface. My code is blow. Is it possible to do what I want?
```
<p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/example-1-1.png" alt="ShareChatGPTConversations" style="max-width:700px;max-height:700px;" align="center"></p>

GitHub [file diff](https://github.com/nbd-wtf/nostr-tools/pull/241/files#diff-98476df5961449c9b87e4a05e4cf190b90d14815cb1b23f1e2d5398467287b61)
<p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/example-1-2.png" alt="ShareChatGPTConversations" style="max-width:1000px;max-width:1000px;" align="center"></p>

## Use case 1 - Example 2: Code documentation
This example demonstrates how a developer is using ChatGPT address the task of **code documentation**. 
Software documentation encompasses various types of documents that serve different purposes throughout 
the software development life cycle. Here are some common types of software documentation: `Requirements Documentation`, `Design Documentation`, `Technical Documentation` and `User (Guide) Documentation`.

**Code documentation** is part of `Technical Documentation`: The primary goal of code documentation is to facilitate 
comprehension of the codebase by both the original authors and other developers who may work on or 
maintain the code in the future. 

In this example, the developer used ChatGPT with the following prompt:

**Developer prompt:** 
```angular2html
Act as an enthusiast developer advocate with 5 years of experience.
Write a quick documentation about this `release.sh` bash script. What does it do? Use bullets points.
How do we use it? Use short sentences. Add emojis where needed.
```

<p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/example-2-1.png" alt="ShareChatGPTConversations" style="max-width:550px;max-height:550px;border:'1px solid black;" align="center"></p>
<br />

As you can observe, the [CONTRIBUTION.md](https://github.com/swarmion/swarmion/pull/678/files#diff-eca12c0a30e25b4b46522ebf89465a03ba72a03f540796c979137931d8f92055) file was updated by simply copying the documentation written by ChatGPT. This documentation is intended to ease the process of on-boarding new contributors to the project
<p style="text-align:center">
<img src="/teaching/CS472/Timetable/GPT/example-2-2.png" alt="ShareChatGPTConversations" style="max-width:550px;max-height:550px;" align="center">
</p>

The link to PR and ChatGPT conversation is provided below:
- PR: [https://github.com/swarmion/swarmion/pull/678](https://github.com/swarmion/swarmion/pull/678)
- ChatGPT Link: [https://chat.openai.com/share/7538b618-c08d-45b7-a4ed-bb168e9c1eb0](https://chat.openai.com/share/7538b618-c08d-45b7-a4ed-bb168e9c1eb0)

## Use case 2 - Example 3: Program synthesis
In Examples 1 and 2 above, the developer used the code generated by ChatGPT "as-is." 
However, this example demonstrates another use case where the developer integrates 
only a *portion* of the code snippet suggested by ChatGPT. The prompt provided by the 
developer aligns with a `program synthesis` task.

**Developer prompt 1:** 
```angular2html
Write a GitHub Action yml file that blocks the PR from merging when there is a label
named "do NOT merge yet" or "s: on hold"
```
**Developer prompt 2:** 
```angular2html
How can I check "s: on hold" with "contains" using "github.event.pull_request.labels.*.name"
```
Below is the final code snippet generated by ChatGPT and the portion integrated in GitHub pull request.

<p style="text-align:center">
<img src="/teaching/CS472/Timetable/GPT/use-case-2-example-3-1.png" alt="ShareChatGPTConversations" style="max-width:800px;max-height:800px;" align="center">
</p>

<p style="text-align:center">
<img src="/teaching/CS472/Timetable/GPT/use-case-2-example-3-2.png" alt="ShareChatGPTConversations" style="max-width:550px;max-height:550px;" align="center">
</p>

The link to the Git Diff file and conversation with ChatGPT is provided below:
- Git Diff file: [Here](https://github.com/faker-js/faker/pull/2405/files#diff-1918769d4ce5178c72d08b74f069e98856eeddcb0391e5c39636c8c33051f7f9)
- ChatGPT Link: [https://chat.openai.com/share/8cb16814-2855-4fbd-87e5-bde8ba349728](https://chat.openai.com/share/8cb16814-2855-4fbd-87e5-bde8ba349728)

## Use case 3 - Example 4: Code understanding
In this example, the developer does not integrate the code suggested by ChatGPT, but 
uses ChatGPT for **Software development** and **Software maintenance** 
for the tasks  **code understanding** and **code reviewing**, respectively. 

In the study of Hou et al. [article](https://arxiv.org/pdf/2308.10620.pdf), **code understanding** 
is defined as the process of deeply comprehending and analyzing source code. It involves gaining 
insights into the logic, structure, functionality, and dependencies of the code, as well as 
understanding the programming languages, frameworks, and libraries used.

The details of PR and ChatGPT conversation links are below:

- PR: [https://github.com/dust-tt/dust/pull/508](https://github.com/dust-tt/dust/pull/508)
- ChatGPT Link: [https://chat.openai.com/share/0c93321b-b553-430f-a06f-a6c82f56e4ee](https://chat.openai.com/share/0c93321b-b553-430f-a06f-a6c82f56e4ee)
  
As can be seen from the [ChatGPT link](https://chat.openai.com/share/0c93321b-b553-430f-a06f-a6c82f56e4ee), 
on June 5, 2023, the developer seeks to understand how to present code in a more idiomatic way. 
ChatGPT responds by stating that the developer's code is correct and idiomatic.
Furthermore, ChatGPT also suggests the developer use a **helper function** to improve code readability.

Looking at the [PR link](https://github.com/dust-tt/dust/pull/508), we can also observe that on the same day, June 5, 2023,
the developer asked a colleague a similar question posted on ChatGPT (see the figure below). 
It is possible that the developer first sought help from the colleague, and since the colleague did not provide
a quick response, the developer submitted the same question to ChatGPT.

<p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/example-1-5.png" alt="ShareChatGPTConversations" style="max-width:600px;max-height:550px;" align="center"></p>

On critical analysis of the conversation between the developer and ChatGPT, we observe that the code suggested by ChatGPT was not adapted by the developer but was re-assured that the code works well. 
We therefore categorize the software engineering task that the developer wanted to address is
**code understanding**. We also categorize the task as **code review** since the developer 
shared the details of the conversation with the colleagues to aid the 
PR review process. 


Task 1 - Example of Code Generation and Optimization using ChatGPT
=======
To begin using ChatGPT (if you haven't already), simply go to [https://chat.openai.com/](https://chat.openai.com/) and create a free account. For this class, the free ChatGPT 3.5 is sufficient.

To effectively use ChatGPT, you should provide it a good "prompt". The concept of ``Prompt Engineering`` is detailed in this research paper: [A Prompt Pattern Catalog to Enhance Prompt Engineering with ChatGPT](https://arxiv.org/abs/2302.11382).
1. Let us use ChatGPT to generate the code for this LeetCode problem  ```Two Sum```: [https://leetcode.com/problems/two-sum/description/](https://leetcode.com/problems/two-sum/description/)
   * **Simple prompt:** Given an array of integers `nums` and an integer `target`, return indices of the two numbers such that they add up to `target`
  
   ```python
    def two_sum(nums, target):
        # Create a dictionary to store the indices of elements
        num_indices = {}

        # Iterate through the array
        for i, num in enumerate(nums):
            # Calculate the complement needed to reach the target
            complement = target - num

            # Check if the complement is in the dictionary
            if complement in num_indices:
                # If found, return the indices of the two numbers
                return [num_indices[complement], i]

            # Otherwise, store the current element's index in the dictionary
            num_indices[num] = i

        # If no solution is found, return an empty list or raise an exception
        # (depending on the problem requirements)
        return []
   ```

   * Let us give ChatGPT more information:
    -  **Prompt:** Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target. You may assume that each input would have exactly one solution, and you may not use the same element twice. You can return the answer in any order.
  
    ```python
    def two_sum(nums, target):
        # Create a dictionary to store the indices of elements
        num_indices = {}

        # Iterate through the array
        for i, num in enumerate(nums):
            # Calculate the complement needed to reach the target
            complement = target - num

            # Check if the complement is in the dictionary
            if complement in num_indices:
                # If found, return the indices of the two numbers
                return [num_indices[complement], i]

            # Otherwise, store the current element's index in the dictionary
            num_indices[num] = i

        # No need to handle the case when no solution is found, as the problem
        # states that there is exactly one solution.

    ```

  You can continue refining the prompt in order to get a more precise and optimized solution. See the full conversation here: [https://chat.openai.com/share/5ed4faed-52c3-45dd-9c6a-1363b3f0dd91](https://chat.openai.com/share/5ed4faed-52c3-45dd-9c6a-1363b3f0dd91)

1. In this second part of task 1, try to use ChatGPT any task of your choice. Observe how designing and refining prompts can help you achieve your goal.
   - Are you able to get your solution?
   - How long did you take to get your answer?
   - What prompting pattern (s) did you adopt? 

Task 2: Sharing Your ChatGPT Conversations on GitHub
====
In this task shows you how to share you ChatGPT conversations with fellow developers. 
Sharing ChatGPT conversations with other developers can be beneficial for several reasons:

- Collaborative Problem Solving
- Learning and Knowledge Sharing
- Code Review and Improvement
- Getting Diverse Perspectives
- Best Practices and Tips
- Avoiding Pitfalls
- Building a Supportive Community
- Ethical Considerations
- Innovation and Exploration

1. Once you are ready to share your converstions, following the screenshots below to generate and copy a 
URL/Link. **Note: Don't worry, your personal profile will NOT be visible after the conversation link is generated, 
it will be automatically changed to ```Anonymous```**.

   <p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/share1.png" alt="ShareChatGPTConversations" style="max-width:700px;max-height:700px;" align="center"></p>

   <p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/share2.png" alt="ShareChatGPTConversations" style="max-width:500px;height:500px;" align="center"></p>

2. After copying the link, there are many places on GitHub where you can share your conversation (e.g., inside a PR, Issue, or Commit message).
For example, if you used ChatGPT to help you solve a bug, it would be better to add 
the link in the `PR` description or `PR` review comment. See the below:
   - Adding your conversation link in PR description
    
    <p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/share-review-1.png" alt="ShareChatGPTConversations" style="max-width:800px;max-height:800px;" class="center"></p>

   - Adding your conversation link during PR review activity
    
    <p style="text-align:center"><img src="/teaching/CS472/Timetable/GPT/share-review-2.png" alt="ShareChatGPTConversations" style="max-width:600px;max-height:600px;" class="center"></p>

